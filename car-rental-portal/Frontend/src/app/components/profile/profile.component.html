<app-header></app-header>

<div canvas="container" id="root">
    <div class="mioto-layout">
        <section class="body">
            <div class="account-section sec space">
                <div class="m-container">
                    <div class="account-container">
                        <!-- loader -->
                        <div class="content-account centered" style="width: calc(75% - 20px);" *ngIf="isLoading">
                            <div class="content-item user-profile">
                                <app-loading></app-loading>
                            </div>
                        </div>
                        <div class="content-account centered" style="width: calc(75% - 20px);" *ngIf="!isLoading">
                            <div class="content-item user-profile">
                                <div class="title">
                                    <div class="title-edit">
                                        <h5>Profile</h5>
                                    </div>
                                    <div class="total-trips" style="align-items: center;">
                                        <div class="wrap-svg"><svg width="24" height="24" viewBox="0 0 24 24"
                                                fill="none" xmlns="http://www.w3.org/2000/svg">
                                                <g clip-path="url(#clip0_3535_118649)">
                                                    <path
                                                        d="M15.0938 1.82812C15.0938 1.59553 15.283 1.40625 15.5156 1.40625H17.9531C18.1858 1.40625 18.375 1.59553 18.375 1.82812V4.34133H19.7812V1.82812C19.7812 0.820078 18.9612 0 17.9531 0H15.5156C14.5076 0 13.6875 0.820078 13.6875 1.82812V4.34133H15.0938V1.82812Z"
                                                        fill="#5FCF86">
                                                    </path>
                                                    <path
                                                        d="M8.54709 22.5937C8.23987 22.1164 8.0625 21.5512 8.0625 20.9531V10.4116H1.64062C0.735984 10.4116 0 11.1476 0 12.0522V20.9531C0 21.7782 0.612234 22.4626 1.40625 22.5767V23.2967C1.40625 23.685 1.72106 23.9998 2.10938 23.9998C2.49769 23.9998 2.8125 23.685 2.8125 23.2967V22.5937H8.54709V22.5937ZM2.8125 12.9897C2.8125 12.6014 3.12731 12.2866 3.51562 12.2866C3.90394 12.2866 4.21875 12.6014 4.21875 12.9897V20.0156C4.21875 20.4039 3.90394 20.7187 3.51562 20.7187C3.12731 20.7187 2.8125 20.4039 2.8125 20.0156V12.9897Z"
                                                        fill="#5FCF86"></path>
                                                    <path
                                                        d="M6.5625 7.89844C6.5625 7.66584 6.75178 7.47656 6.98438 7.47656H8.0625V7.3882C8.0625 6.91641 8.17031 6.46936 8.36259 6.07031H6.98438C5.97633 6.07031 5.15625 6.89039 5.15625 7.89844V9.00539H6.5625V7.89844Z"
                                                        fill="#5FCF86"></path>
                                                    <path
                                                        d="M22.3594 5.74756H11.1094C10.2047 5.74756 9.46875 6.48354 9.46875 7.38818V20.9531C9.46875 21.7782 10.081 22.4626 10.875 22.5767V23.2967C10.875 23.685 11.1898 23.9998 11.5781 23.9998C11.9664 23.9998 12.2812 23.685 12.2812 23.2967V22.5937H21.1875V23.2967C21.1875 23.685 21.5023 23.9998 21.8906 23.9998C22.2789 23.9998 22.5938 23.685 22.5938 23.2967V22.5767C23.3877 22.4626 24 21.7782 24 20.9531V7.38818C24 6.4835 23.264 5.74756 22.3594 5.74756ZM13.6875 20.0156C13.6875 20.4039 13.3727 20.7187 12.9844 20.7187C12.5961 20.7187 12.2812 20.4039 12.2812 20.0156V8.32568C12.2812 7.93737 12.5961 7.62256 12.9844 7.62256C13.3727 7.62256 13.6875 7.93737 13.6875 8.32568V20.0156ZM20.4844 20.7187C20.0961 20.7187 19.7812 20.4039 19.7812 20.0156V8.32568C19.7812 7.93737 20.0961 7.62256 20.4844 7.62256C20.8727 7.62256 21.1875 7.93737 21.1875 8.32568V20.0156C21.1875 20.4039 20.8727 20.7187 20.4844 20.7187Z"
                                                        fill="#5FCF86"></path>
                                                </g>
                                                <defs>
                                                    <clipPath id="clip0_3535_118649">
                                                        <rect width="24" height="24" fill="white"></rect>
                                                    </clipPath>
                                                </defs>
                                            </svg></div>
                                        <p class="count">{{user.noBooking}}</p><span>rides</span>
                                    </div>
                                </div>
                                <div class="content">
                                    <div class="avatar-box">
                                        <div class="avatar avatar--xl"><img loading="lazy"
                                                src="{{user.avatar?user.avatar:'../../../assets/images/avatar/avatar1.png'}}"
                                                alt="{{user.firstName}} {{user.lastName}}">
                                        </div>
                                        <h6>{{user.firstName}} {{user.lastName}}</h6>
                                        <p class="note">Tham gia từ năm 2022</p>
                                        <div class="trip-class">
                                            <div class="total-trips">
                                                <div class="wrap-svg"><svg width="24" height="24" viewBox="0 0 24 24"
                                                        fill="none" xmlns="http://www.w3.org/2000/svg">
                                                        <g clip-path="url(#clip0_3535_118649)">
                                                            <path
                                                                d="M15.0938 1.82812C15.0938 1.59553 15.283 1.40625 15.5156 1.40625H17.9531C18.1858 1.40625 18.375 1.59553 18.375 1.82812V4.34133H19.7812V1.82812C19.7812 0.820078 18.9612 0 17.9531 0H15.5156C14.5076 0 13.6875 0.820078 13.6875 1.82812V4.34133H15.0938V1.82812Z"
                                                                fill="#5FCF86"></path>
                                                            <path
                                                                d="M8.54709 22.5937C8.23987 22.1164 8.0625 21.5512 8.0625 20.9531V10.4116H1.64062C0.735984 10.4116 0 11.1476 0 12.0522V20.9531C0 21.7782 0.612234 22.4626 1.40625 22.5767V23.2967C1.40625 23.685 1.72106 23.9998 2.10938 23.9998C2.49769 23.9998 2.8125 23.685 2.8125 23.2967V22.5937H8.54709V22.5937ZM2.8125 12.9897C2.8125 12.6014 3.12731 12.2866 3.51562 12.2866C3.90394 12.2866 4.21875 12.6014 4.21875 12.9897V20.0156C4.21875 20.4039 3.90394 20.7187 3.51562 20.7187C3.12731 20.7187 2.8125 20.4039 2.8125 20.0156V12.9897Z"
                                                                fill="#5FCF86"></path>
                                                            <path
                                                                d="M6.5625 7.89844C6.5625 7.66584 6.75178 7.47656 6.98438 7.47656H8.0625V7.3882C8.0625 6.91641 8.17031 6.46936 8.36259 6.07031H6.98438C5.97633 6.07031 5.15625 6.89039 5.15625 7.89844V9.00539H6.5625V7.89844Z"
                                                                fill="#5FCF86"></path>
                                                            <path
                                                                d="M22.3594 5.74756H11.1094C10.2047 5.74756 9.46875 6.48354 9.46875 7.38818V20.9531C9.46875 21.7782 10.081 22.4626 10.875 22.5767V23.2967C10.875 23.685 11.1898 23.9998 11.5781 23.9998C11.9664 23.9998 12.2812 23.685 12.2812 23.2967V22.5937H21.1875V23.2967C21.1875 23.685 21.5023 23.9998 21.8906 23.9998C22.2789 23.9998 22.5938 23.685 22.5938 23.2967V22.5767C23.3877 22.4626 24 21.7782 24 20.9531V7.38818C24 6.4835 23.264 5.74756 22.3594 5.74756ZM13.6875 20.0156C13.6875 20.4039 13.3727 20.7187 12.9844 20.7187C12.5961 20.7187 12.2812 20.4039 12.2812 20.0156V8.32568C12.2812 7.93737 12.5961 7.62256 12.9844 7.62256C13.3727 7.62256 13.6875 7.93737 13.6875 8.32568V20.0156ZM20.4844 20.7187C20.0961 20.7187 19.7812 20.4039 19.7812 20.0156V8.32568C19.7812 7.93737 20.0961 7.62256 20.4844 7.62256C20.8727 7.62256 21.1875 7.93737 21.1875 8.32568V20.0156C21.1875 20.4039 20.8727 20.7187 20.4844 20.7187Z"
                                                                fill="#5FCF86"></path>
                                                        </g>
                                                        <defs>
                                                            <clipPath id="clip0_3535_118649">
                                                                <rect width="24" height="24" fill="white"></rect>
                                                            </clipPath>
                                                        </defs>
                                                    </svg></div>
                                                <p class="count">{{user.noBooking}}</p><span>rides</span>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="info-user center">
                                        <div class="info-note">
                                            <div class="owner-response">
                                                <div class="owner-response__item">
                                                    <p>Tỉ lệ phản hồi</p>
                                                    <p class="main">100%</p>
                                                </div>
                                                <div class="owner-response__item">
                                                    <p>Thời gian phản hồi</p>
                                                    <p class="main">5 phút</p>
                                                </div>
                                                <div class="owner-response__item">
                                                    <p>Tỉ lệ đồng ý</p>
                                                    <p class="main">80%</p>
                                                </div>
                                            </div>
                                            <div class="note-five-star"><img loading="lazy"
                                                    src="https://www.mioto.vn/static/media/five-star-polish.5b500673.svg"
                                                    alt="Chủ xe 5*">
                                                <p>Chủ xe 5* có thời gian phản hồi nhanh chóng, tỉ lệ đồng ý cao, mức
                                                    giá cạnh tranh &amp; dịch vụ nhận được nhiều đánh giá tốt từ
                                                    khách&nbsp;hàng.</p>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="content-item car-owner" *ngIf="cars.length>0">
                                <div class="title">
                                    <h6>List Cars</h6>
                                </div>
                                <div class="content">
                                    <div *ngIf="isLoadingCar" class="tw-flex tw-justify-center">
                                        <app-loading></app-loading>
                                    </div>
                                    <div class="card profile-carousel" *ngIf="!isLoadingCar">
                                        <p-carousel #carousel [value]="cars" [numScroll]="3" [numVisible]="3"
                                            [responsiveOptions]="responsiveOptions">
                                            <ng-template let-car pTemplate="item">
                                                <div class="swiper-wrapper"
                                                    style="transform: translate3d(0px, 0px, 0px); padding: 5px;">
                                                    <div class="swiper-slide swiper-slide-active" style="width: 250px;">
                                                        <a href="/car/detail/{{car.id}}" class=" item-car">
                                                            <div class="item-box">
                                                                <div class="img-car">
                                                                    <div class="fix-img">
                                                                        <img loading="lazy" src="{{car.front}}" alt="{{car.brand + ' ' + car.model}}">
                                                                    </div>
                                                                </div>
                                                                <div class="desc-car">
                                                                    <div class="desc-tag">
                                                                        <span class="tag-item transmission">
                                                                            {{car.transmission}}
                                                                        </span>
                                                                    </div>
                                                                    <div class="desc-name" title="{{car.brand + ' ' + car.model}}">
                                                                        <p>{{car.brand + " " + car.model}}</p>
                                                                    </div>
                                                                    <div class="desc-address-price">
                                                                        <div class="address">
                                                                            <div class="wrap-svg"><svg
                                                                                    xmlns="http://www.w3.org/2000/svg"
                                                                                    width="16" height="17"
                                                                                    viewBox="0 0 16 17" fill="none">
                                                                                    <path
                                                                                        d="M7.99999 1.83331C5.25999 1.83331 3.03333 4.05998 3.03333 6.79998C3.03333 10.06 7.15333 14.6733 7.32666 14.8666C7.49999 15.06 7.74666 15.1666 7.99999 15.1666C8.25332 15.1666 8.49999 15.06 8.67332 14.8666C9.11332 14.38 12.9667 9.98664 12.9667 6.79998C12.9667 4.05998 10.74 1.83331 7.99999 1.83331ZM7.99999 14.12C7.45999 13.4933 4.03333 9.46664 4.03333 6.79998C4.03333 4.61331 5.81332 2.83331 7.99999 2.83331C10.1867 2.83331 11.9667 4.61331 11.9667 6.79998C11.9667 9.05331 9.41332 12.52 7.99999 14.12Z"
                                                                                        fill="#101840"></path>
                                                                                    <path
                                                                                        d="M7.99999 1.83331C5.25999 1.83331 3.03333 4.05998 3.03333 6.79998C3.03333 10.06 7.15333 14.6733 7.32666 14.8666C7.49999 15.06 7.74666 15.1666 7.99999 15.1666C8.25332 15.1666 8.49999 15.06 8.67332 14.8666C9.11332 14.38 12.9667 9.98664 12.9667 6.79998C12.9667 4.05998 10.74 1.83331 7.99999 1.83331ZM5.91999 6.79998C5.91999 5.65331 6.85332 4.71998 7.99999 4.71998C9.14666 4.71998 10.08 5.65331 10.08 6.79998C10.08 7.94664 9.14666 8.87998 7.99999 8.87998C6.85332 8.87998 5.91999 7.94664 5.91999 6.79998Z"
                                                                                        fill="#101840"></path>
                                                                                </svg></div>
                                                                            <p title="{{car.location[0].name}}">{{car.location[0].name}}</p>
                                                                        </div>
                                                                    </div>
                                                                    <div class="line-page"></div>
                                                                    <div class="desc-info-price">
                                                                        <div class="info">
                                                                            <div class="wrap-svg"><svg
                                                                                    class="star-rating" width="16"
                                                                                    height="17" viewBox="0 0 16 17"
                                                                                    fill="none"
                                                                                    xmlns="http://www.w3.org/2000/svg">
                                                                                    <path
                                                                                        d="M14.6667 7.23331C14.7333 6.89998 14.4667 6.49998 14.1333 6.49998L10.3333 5.96665L8.59999 2.49998C8.53333 2.36665 8.46666 2.29998 8.33333 2.23331C7.99999 2.03331 7.59999 2.16665 7.39999 2.49998L5.73333 5.96665L1.93333 6.49998C1.73333 6.49998 1.59999 6.56665 1.53333 6.69998C1.26666 6.96665 1.26666 7.36665 1.53333 7.63331L4.26666 10.3L3.59999 14.1C3.59999 14.2333 3.59999 14.3666 3.66666 14.5C3.86666 14.8333 4.26666 14.9666 4.59999 14.7666L7.99999 12.9666L11.4 14.7666C11.4667 14.8333 11.6 14.8333 11.7333 14.8333C11.8 14.8333 11.8 14.8333 11.8667 14.8333C12.2 14.7666 12.4667 14.4333 12.4 14.0333L11.7333 10.2333L14.4667 7.56665C14.6 7.49998 14.6667 7.36665 14.6667 7.23331Z"
                                                                                        fill="#FFC634"></path>
                                                                                </svg></div><span
                                                                                class="info">{{car.rating}}</span><span
                                                                                class="dot">•</span>
                                                                            <div class="wrap-svg"><svg width="16"
                                                                                    height="16" viewBox="0 0 16 16"
                                                                                    fill="none"
                                                                                    xmlns="http://www.w3.org/2000/svg"
                                                                                    style="margin-right: 4px;">
                                                                                    <g
                                                                                        clip-path="url(#clip0_1087_41996)">
                                                                                        <path
                                                                                            d="M10.0625 1.21875C10.0625 1.06369 10.1887 0.9375 10.3438 0.9375H11.9688C12.1238 0.9375 12.25 1.06369 12.25 1.21875V2.89422H13.1875V1.21875C13.1875 0.546719 12.6408 0 11.9688 0H10.3438C9.67172 0 9.125 0.546719 9.125 1.21875V2.89422H10.0625V1.21875Z"
                                                                                            fill="#5FCF86"></path>
                                                                                        <path
                                                                                            d="M5.69806 15.0623C5.49325 14.7441 5.375 14.3673 5.375 13.9686V6.94092H1.09375C0.490656 6.94092 0 7.43157 0 8.03467V13.9686C0 14.5186 0.408156 14.9749 0.9375 15.051V15.5309C0.9375 15.7898 1.14737 15.9997 1.40625 15.9997C1.66513 15.9997 1.875 15.7898 1.875 15.5309V15.0623H5.69806V15.0623ZM1.875 8.65967C1.875 8.40079 2.08487 8.19092 2.34375 8.19092C2.60263 8.19092 2.8125 8.40079 2.8125 8.65967V13.3436C2.8125 13.6024 2.60263 13.8123 2.34375 13.8123C2.08487 13.8123 1.875 13.6024 1.875 13.3436V8.65967Z"
                                                                                            fill="#5FCF86"></path>
                                                                                        <path
                                                                                            d="M4.375 5.26562C4.375 5.11056 4.50119 4.98438 4.65625 4.98438H5.375V4.92547C5.375 4.61094 5.44687 4.31291 5.57506 4.04688H4.65625C3.98422 4.04688 3.4375 4.59359 3.4375 5.26562V6.00359H4.375V5.26562Z"
                                                                                            fill="#5FCF86"></path>
                                                                                        <path
                                                                                            d="M14.9062 3.83154H7.40625C6.80316 3.83154 6.3125 4.3222 6.3125 4.92529V13.9686C6.3125 14.5186 6.72066 14.9749 7.25 15.051V15.5309C7.25 15.7898 7.45987 15.9997 7.71875 15.9997C7.97763 15.9997 8.1875 15.7898 8.1875 15.5309V15.0623H14.125V15.5309C14.125 15.7898 14.3349 15.9997 14.5938 15.9997C14.8526 15.9997 15.0625 15.7898 15.0625 15.5309V15.051C15.5918 14.9749 16 14.5186 16 13.9686V4.92529C16 4.32217 15.5093 3.83154 14.9062 3.83154ZM9.125 13.3436C9.125 13.6024 8.91513 13.8123 8.65625 13.8123C8.39737 13.8123 8.1875 13.6024 8.1875 13.3436V5.55029C8.1875 5.29142 8.39737 5.08154 8.65625 5.08154C8.91513 5.08154 9.125 5.29142 9.125 5.55029V13.3436ZM13.6562 13.8123C13.3974 13.8123 13.1875 13.6024 13.1875 13.3436V5.55029C13.1875 5.29142 13.3974 5.08154 13.6562 5.08154C13.9151 5.08154 14.125 5.29142 14.125 5.55029V13.3436C14.125 13.6024 13.9151 13.8123 13.6562 13.8123Z"
                                                                                            fill="#5FCF86"></path>
                                                                                    </g>
                                                                                    <defs>
                                                                                        <clipPath id="clip0_1087_41996">
                                                                                            <rect width="16" height="16"
                                                                                                fill="white"></rect>
                                                                                        </clipPath>
                                                                                    </defs>
                                                                                </svg></div><span
                                                                                class="info">{{car.rides}}
                                                                                rides</span>
                                                                        </div>
                                                                        <div class="wrap-price">
                                                                            <div class="price"><span
                                                                                    class="price-special">{{car.price.toLocaleString('vi-VN')}}</span>vnd
                                                                            </div>
                                                                        </div>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                        </a>
                                                    </div>
                                                </div>
                                            </ng-template>
                                        </p-carousel>
                                    </div>
                                </div>
                            </div>
                            <div class="content-item review">
                                <div class="review-title">
                                    <div class="review-info">
                                        <div class="rate-review">
                                            <div class="wrap-svg"><svg class="star-rating" width="16" height="17"
                                                    viewBox="0 0 16 17" fill="none" xmlns="http://www.w3.org/2000/svg">
                                                    <path
                                                        d="M14.6667 7.23331C14.7333 6.89998 14.4667 6.49998 14.1333 6.49998L10.3333 5.96665L8.59999 2.49998C8.53333 2.36665 8.46666 2.29998 8.33333 2.23331C7.99999 2.03331 7.59999 2.16665 7.39999 2.49998L5.73333 5.96665L1.93333 6.49998C1.73333 6.49998 1.59999 6.56665 1.53333 6.69998C1.26666 6.96665 1.26666 7.36665 1.53333 7.63331L4.26666 10.3L3.59999 14.1C3.59999 14.2333 3.59999 14.3666 3.66666 14.5C3.86666 14.8333 4.26666 14.9666 4.59999 14.7666L7.99999 12.9666L11.4 14.7666C11.4667 14.8333 11.6 14.8333 11.7333 14.8333C11.8 14.8333 11.8 14.8333 11.8667 14.8333C12.2 14.7666 12.4667 14.4333 12.4 14.0333L11.7333 10.2333L14.4667 7.56665C14.6 7.49998 14.6667 7.36665 14.6667 7.23331Z"
                                                        fill="#FFC634"></path>
                                                </svg></div>
                                            <p class="rate">{{user.rating}}</p>
                                        </div><span class="dot">•</span>
                                        <p class="total-review">{{isRateRenter?numOfRateRenter:numOfRateOwner}} Rates
                                        </p>
                                    </div>
                                    <div class="tab-mode">
                                        <div class="tab-mode__item " #carowner (click)="showOwnerRating()">Car owner
                                        </div>
                                        <div class="tab-mode__item active" #carcustomer (click)="showCustomerRating()">
                                            Customer</div>
                                    </div>
                                </div>
                                <div class="list-reviews">
                                    <div class="item-review" *ngFor="let r of show_rating">
                                        <div class="profile">
                                            <div class="desc"><a href="/profile/{{r.senderId}}"
                                                    class="avatar avatar--m"><img loading="lazy"
                                                        src="{{r.senderAvatar?r.senderAvatar:'../../../assets/images/avatar/avatar1.png'}}"
                                                        alt="Thuê xe tự lái"></a>
                                                <div class="info"><a href="/profile/{{r.senderId}}">
                                                        <h6>{{r.senderFirstName + " " + r.senderLastName}}</h6>
                                                    </a>
                                                    <div class="rate">
                                                        <div class="star-ratings" title="5 Stars"
                                                            style="position: relative; box-sizing: border-box; display: inline-block;">
                                                            <svg class="star-grad"
                                                                style="position: absolute; z-index: 0; width: 0px; height: 0px; visibility: hidden;">
                                                                <defs>
                                                                    <linearGradient id="starGrad330772860828249" x1="0%"
                                                                        y1="0%" x2="100%" y2="0%">
                                                                        <stop offset="0%" class="stop-color-first"
                                                                            style="stop-color: rgb(255, 198, 52); stop-opacity: 1;">
                                                                        </stop>
                                                                        <stop offset="0%" class="stop-color-first"
                                                                            style="stop-color: rgb(255, 198, 52); stop-opacity: 1;">
                                                                        </stop>
                                                                        <stop offset="0%" class="stop-color-final"
                                                                            style="stop-color: rgb(203, 211, 227); stop-opacity: 1;">
                                                                        </stop>
                                                                        <stop offset="100%" class="stop-color-final"
                                                                            style="stop-color: rgb(203, 211, 227); stop-opacity: 1;">
                                                                        </stop>
                                                                    </linearGradient>
                                                                </defs>
                                                            </svg>
                                                            <div class="star-container"
                                                                *ngFor="let i of [].constructor(roundStars(r.stars))"
                                                                style="position: relative; display: inline-block; vertical-align: middle; padding-right: 1px;">
                                                                <svg viewBox="0 0 51 48" class="widget-svg"
                                                                    style="width: 17px; height: 17px; transition: transform 0.2s ease-in-out 0s;">
                                                                    <path class="star"
                                                                        d="m25,1 6,17h18l-14,11 5,17-15-10-15,10 5-17-14-11h18z"
                                                                        style="fill: rgb(255, 198, 52); transition: fill 0.2s ease-in-out 0s;">
                                                                    </path>
                                                                </svg>
                                                            </div>
                                                        </div>
                                                        <p class="time">{{getDate(r.dateTime)}}/{{getMonth(r.dateTime)}}
                                                        </p>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                        <pre class="main-review">{{r.comment}}</pre>
                                    </div>
                                </div>
                                <div class="btn-see-more" *ngIf="isMore">
                                    <a class="btn btn--s btn-secondary" (click)="getMore()">
                                        More {{min(sizeRating, (isRateRenter?numOfRateRenter:numOfRateOwner) -
                                        (sizeRating * ((isRateRenter?pageOfRateCustomer:pageOfRateOwner) + 1)))}}
                                        comment
                                    </a>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>
    </div>
</div>

<app-footer></app-footer>